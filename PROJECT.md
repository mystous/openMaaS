# openMaaS ν”„λ΅μ νΈ κ°μ”

## ν”„λ΅μ νΈ λΉ„μ „

**openMaaS (Open Model-as-a-Service)**λ” λ‹¤μ–‘ν• ν΄λΌμ°λ“ μ„λΉ„μ¤ μ κ³µμ(CSP)μ LLM APIλ¥Ό ν•λ‚μ ν†µν•©λ μ›Ή μΈν„°νμ΄μ¤μ—μ„ ν…μ¤νΈν•κ³  λΉ„κµν•  μ μλ” μ¤ν”μ†μ¤ ν”λ«νΌμ…λ‹λ‹¤.

## ν•µμ‹¬ κ°λ…

### BYOK (Bring Your Own Key) - Zero Knowledge μ›μΉ™
- μ‚¬μ©μκ°€ μμ‹ μ API ν‚¤λ¥Ό μ…λ ¥
- λ³ΈμΈ κ³„μ •μΌλ΅ λΉ„μ© λ¶€λ‹΄
- **μ„λ²„λ” API ν‚¤λ¥Ό μ λ€ μ €μ¥ν•μ§€ μ•μ**
- ν‚¤λ” ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)μ—μ„λ§ κ΄€λ¦¬

### ν•μ΄λΈλ¦¬λ“ API νΈμ¶ μ•„ν‚¤ν…μ²
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                    ν΄λΌμ΄μ–ΈνΈ (λΈλΌμ°μ €)                         β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”‚ API ν‚¤ μ €μ¥μ† (localStorage/sessionStorage/λ©”λ¨λ¦¬)       β”‚   β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚                    β”‚                      β”‚                     β”‚
β”‚         CORS μ§€μ› μ κ³µμ            CORS λ―Έμ§€μ› μ κ³µμ           β”‚
β”‚                    β”‚                      β”‚                     β”‚
β”‚                    β–Ό                      β–Ό                     β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”‚ μ§μ ‘ νΈμ¶             β”‚    β”‚ Pass-through ν”„λ΅μ‹ κ²½μ     β”‚   β”‚
β”‚  β”‚ - OpenAI             β”‚    β”‚ - API Keyλ¥Ό ν—¤λ”λ΅ μ „λ‹¬     β”‚   β”‚
β”‚  β”‚ - Google Gemini      β”‚    β”‚ - μ„λ²„λ” μ €μ¥/λ΅κΉ… μ• ν•¨    β”‚   β”‚
β”‚  β”‚   (AI Studio)        β”‚    β”‚ - λ©”λ¨λ¦¬μ—μ„ μ¦‰μ‹ μ „λ‹¬ ν›„   β”‚   β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”‚   νκΈ°                      β”‚   β”‚
β”‚            β”‚                 β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚            β”‚                              β”‚                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
             β”‚                              β”‚
             β–Ό                              β–Ό
   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”          β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
   β”‚ OpenAI API       β”‚          β”‚ Pass-through Proxy   β”‚
   β”‚ Gemini API       β”‚          β”‚ (μ„λ²„)               β”‚
   β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”          β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                                            β”‚
                                            β–Ό
                                 β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                                 β”‚ Anthropic, Bedrock,  β”‚
                                 β”‚ Azure, Vertex AI λ“±  β”‚
                                 β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### μ κ³µμλ³„ νΈμ¶ λ°©μ‹

| μ κ³µμ | νΈμ¶ λ°©μ‹ | CORS | λΉ„κ³  |
|--------|---------|------|------|
| OpenAI | **μ§μ ‘** | μ§€μ› | `dangerouslyAllowBrowser` |
| Google Gemini (AI Studio) | **μ§μ ‘** | μ§€μ› | generativelanguage.googleapis.com |
| Anthropic | ν”„λ΅μ‹ | λ―Έμ§€μ› | |
| AWS Bedrock | ν”„λ΅μ‹ | λ―Έμ§€μ› | SigV4 μ„λ… ν•„μ” |
| Azure OpenAI | ν”„λ΅μ‹ | λ―Έμ§€μ› | |
| Google Vertex AI | ν”„λ΅μ‹ | λ―Έμ§€μ› | OAuth2 ν•„μ” |
| Mistral | ν”„λ΅μ‹ | λ―Έμ§€μ› | |
| Cohere | ν”„λ΅μ‹ | λ―Έμ§€μ› | |
| Ollama (λ΅μ»¬) | **μ§μ ‘** | μ„¤μ •κ°€λ¥ | λ΅μ»¬νΈμ¤νΈ |

### ν†µν•© AI κ²μ΄νΈμ›¨μ΄
- λ¨λ“  LLM μ κ³µμλ¥Ό OpenAI API νΈν™ ν•μ‹μΌλ΅ μ •κ·ν™”
- λ‹¨μΌ μΈν„°νμ΄μ¤λ΅ λ‹¤μ–‘ν• λ¨λΈ μ ‘κ·Ό
- λ²¤λ” μΆ…μ† μ—†μ΄ λ¨λΈ κ°„ μμ λ΅μ΄ μ „ν™

---

## μ§€μ› λ€μƒ μ κ³µμ

| μ κ³µμ | λ¨λΈ μμ‹ | μΈμ¦ λ°©μ‹ |
|-------|---------|---------|
| OpenAI | GPT-4o, GPT-4 Turbo | Bearer API Key |
| Anthropic | Claude 3.5 Sonnet, Claude 3 Opus | Bearer API Key |
| Google Vertex AI | Gemini 1.5 Pro, Gemini 2.0 | OAuth2 / Service Account |
| AWS Bedrock | Claude, Llama, Titan | IAM Access Key + Secret |
| Azure OpenAI | GPT-4, GPT-3.5 | API Key / Service Principal |
| Mistral | Mistral Large, Mixtral | API Key |
| Cohere | Command R+ | API Key |
| λ΅μ»¬/μ…€ν”„νΈμ¤ν… | Ollama, vLLM, TGI | μ—”λ“ν¬μΈνΈ URL |

---

## μ‹μ¤ν… μ•„ν‚¤ν…μ² (ν•μ΄λΈλ¦¬λ“ Zero-Knowledge)

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                       FRONTEND (Next.js)                            β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”           β”‚
β”‚  β”‚ Chat     β”‚ Side-by-Side β”‚ Prompt   β”‚ Usage/Cost     β”‚           β”‚
β”‚  β”‚Playgroundβ”‚ Comparison   β”‚ Templatesβ”‚ Dashboard      β”‚           β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”           β”‚
β”‚                                                                     β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β”‚  β”‚              ν΄λΌμ΄μ–ΈνΈ LLM μ„λΉ„μ¤ λ μ΄μ–΄                     β”‚   β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚   β”‚
β”‚  β”‚  β”‚ API Key Manager     β”‚ Provider Router                 β”‚  β”‚   β”‚
β”‚  β”‚  β”‚ (localStorage/      β”‚ (μ§μ ‘νΈμ¶ vs ν”„λ΅μ‹ κ²°μ •)         β”‚  β”‚   β”‚
β”‚  β”‚  β”‚  sessionStorage)    β”‚                                 β”‚  β”‚   β”‚
β”‚  β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚   β”‚
β”‚  β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚   β”‚
β”‚  β”‚  β”‚ Direct Adapters     β”‚ Proxy Adapters                  β”‚  β”‚   β”‚
β”‚  β”‚  β”‚ - OpenAI            β”‚ - Anthropic                     β”‚  β”‚   β”‚
β”‚  β”‚  β”‚ - Gemini (AI Studio)β”‚ - Bedrock, Azure, Vertex        β”‚  β”‚   β”‚
β”‚  β”‚  β”‚ - Ollama (local)    β”‚ - Mistral, Cohere               β”‚  β”‚   β”‚
β”‚  β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚   β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                            β”‚                     β”‚
              μ§μ ‘ νΈμ¶ (CORS μ§€μ›)         ν”„λ΅μ‹ κ²½μ  (CORS λ―Έμ§€μ›)
                            β”‚                     β”‚
                            β–Ό                     β–Ό
               β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
               β”‚ LLM APIs (μ§μ ‘)    β”‚   β”‚  PASS-THROUGH PROXY         β”‚
               β”‚ - api.openai.com   β”‚   β”‚  (FastAPI + Uvicorn)        β”‚
               β”‚ - generativelanguageβ”‚   β”‚                             β”‚
               β”‚   .googleapis.com  β”‚   β”‚  - API Key: ν—¤λ”λ΅ μμ‹       β”‚
               β”‚ - localhost:11434  β”‚   β”‚  - μ €μ¥/λ΅κΉ…: μ λ€ μ• ν•¨     β”‚
               β”‚   (Ollama)         β”‚   β”‚  - λ©”λ¨λ¦¬: μ”μ²­ ν›„ μ¦‰μ‹ νκΈ°  β”‚
               β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”   β”‚  - μ—­ν• : μμ HTTP μ¤‘κ³„λ§    β”‚
                                        β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                                                      β”‚
                                                      β–Ό
                                        β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                                        β”‚ LLM APIs (ν”„λ΅μ‹ κ²½μ )       β”‚
                                        β”‚ - api.anthropic.com         β”‚
                                        β”‚ - bedrock.amazonaws.com     β”‚
                                        β”‚ - {region}.openai.azure.com β”‚
                                        β”‚ - {region}-aiplatform       β”‚
                                        β”‚   .googleapis.com           β”‚
                                        β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                     BACKEND (λ©”νƒ€λ°μ΄ν„°λ§)                           β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚  β”‚ μ£Όμ: API ν‚¤λ” μ΄ λ μ΄μ–΄μ— μ λ€ μ €μ¥λμ§€ μ•μ                    β”‚ β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚  β”‚ PostgreSQL  β”‚ Redis 7+   β”‚ μ €μ¥ ν•­λ©:                         β”‚ β”‚
β”‚  β”‚             β”‚            β”‚ - μ‚¬μ©μ κ³„μ • (μ΄λ©”μΌ, μ„¤μ •)        β”‚ β”‚
β”‚  β”‚             β”‚            β”‚ - ν”„λ΅¬ν”„νΈ ν…ν”λ¦Ώ                   β”‚ β”‚
β”‚  β”‚             β”‚            β”‚ - λ€ν™” κΈ°λ΅ (μ„ νƒμ , μ•”νΈν™”)        β”‚ β”‚
β”‚  β”‚             β”‚            β”‚ - μ‚¬μ©λ‰ ν†µκ³„ (ν† ν°, λΉ„μ© μ¶”μ •)     β”‚ β”‚
β”‚  β”‚             β”‚            β”‚ - β API ν‚¤ μ €μ¥ μ• ν•¨             β”‚ β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

---

## ν•µμ‹¬ κΈ°λ¥

### 1. ν†µν•© μ±„ν… ν”λ μ΄κ·ΈλΌμ΄λ“
- λ¨λΈ μ„ νƒ λ“λ΅­λ‹¤μ΄ (μ κ³µμ/λ¨λΈλ³„ κµ¬λ¶„)
- νλΌλ―Έν„° μ΅°μ  (temperature, top_p, max_tokens λ“±)
- μ‹¤μ‹κ°„ μ¤νΈλ¦¬λ° μ‘λ‹µ (SSE)
- λ§ν¬λ‹¤μ΄/μ½”λ“ ν•μ΄λΌμ΄ν… λ λ”λ§

### 2. Side-by-Side λ¨λΈ λΉ„κµ
- λ™μΌ ν”„λ΅¬ν”„νΈλ΅ 2-3κ° λ¨λΈ λ™μ‹ μ‹¤ν–‰
- μ‘λ‹µ ν’μ§, μ§€μ—° μ‹κ°„, λΉ„μ© λΉ„κµ
- λ¨λΈ μ„ μ •μ„ μ„ν• A/B ν…μ¤νΈ

### 3. μ‹¤μ‹κ°„ λΉ„μ©/μ„±λ¥ μ¶”μ 
- ν† ν° μ‚¬μ©λ‰ κ³„μ‚° (tiktoken λ“±)
- μ”μ²­λ³„ λΉ„μ© μ‚°μ¶
- TTFT (Time to First Token) μΈ΅μ •
- μ κ³µμλ³„ μ„±λ¥ λ²¤μΉλ§ν‚Ή

### 4. ν”„λ΅¬ν”„νΈ κ΄€λ¦¬
- ν…ν”λ¦Ώ μ €μ¥/λ²„μ „ κ΄€λ¦¬
- λ³€μ μ£Όμ… ({{variable}})
- ν€ κ³µμ  κΈ°λ¥

### 5. λ³΄μ• (Zero-Knowledge μ›μΉ™)
- **μ„λ²„λ” API ν‚¤λ¥Ό μ λ€ μ €μ¥ν•μ§€ μ•μ**
- ν΄λΌμ΄μ–ΈνΈ ν‚¤ μ €μ¥: localStorage (μκµ¬) / sessionStorage (μ„Έμ…) / λ©”λ¨λ¦¬ (μΌνμ„±)
- ν΄λΌμ΄μ–ΈνΈ ν‚¤ μ•”νΈν™”: Web Crypto API + μ‚¬μ©μ ν¨μ¤ν”„λ μ΄μ¦ (μ„ νƒ)
- Pass-through ν”„λ΅μ‹: ν‚¤λ¥Ό ν—¤λ”λ΅ λ°›μ•„ μ¦‰μ‹ μ „λ‹¬, λ΅κΉ… μ—†μ
- XSS λ°©μ–΄: CSP ν—¤λ”, HttpOnly μΏ ν‚¤ (μΈμ¦ ν† ν°μ©)

---

## κΈ°μ  μ¤νƒ

### ν”„λ΅ νΈμ—”λ“ (ν΄λΌμ΄μ–ΈνΈ LLM μ„λΉ„μ¤ ν¬ν•¨)

| κµ¬μ„± μ”μ† | κΈ°μ  | κ·Όκ±° |
|---------|------|------|
| ν”„λ μ„μ›ν¬ | Next.js 15 (App Router) | SSR, μ¤νΈλ¦¬λ° API Routes |
| UI λΌμ΄λΈλ¬λ¦¬ | shadcn/ui + Tailwind CSS | μ»¤μ¤ν„°λ§μ΄μ§•, μ ‘κ·Όμ„± |
| μ±„ν… μ»΄ν¬λ„νΈ | assistant-ui | μ¤νΈλ¦¬λ°, λ§ν¬λ‹¤μ΄ λ λ”λ§ |
| μƒνƒ κ΄€λ¦¬ | Zustand | κ²½λ‰, ν‚¤ μ €μ¥μ† κ΄€λ¦¬ |
| LLM ν΄λΌμ΄μ–ΈνΈ | openai (JS SDK), @google/generative-ai | μ§μ ‘ νΈμ¶μ© |
| ν‚¤ μ•”νΈν™” | Web Crypto API | ν΄λΌμ΄μ–ΈνΈ μΈ΅ μ•”νΈν™” |
| HTTP ν΄λΌμ΄μ–ΈνΈ | fetch (λ„¤μ΄ν‹°λΈ) | μ¤νΈλ¦¬λ° SSE μ§€μ› |

### λ°±μ—”λ“ (Pass-through ν”„λ΅μ‹ + λ©”νƒ€λ°μ΄ν„°)

| κµ¬μ„± μ”μ† | κΈ°μ  | κ·Όκ±° |
|---------|------|------|
| μ–Έμ–΄ | Python 3.11+ | AI SDK μƒνƒκ³„ |
| ν”„λ μ„μ›ν¬ | FastAPI + Uvicorn | λΉ„λ™κΈ°, SSE μ¤νΈλ¦¬λ° |
| HTTP ν΄λΌμ΄μ–ΈνΈ | httpx.AsyncClient | μ—°κ²° ν’€λ§, HTTP/2 |
| λ°μ΄ν„°λ² μ΄μ¤ | PostgreSQL 16+ | ACID, JSONB, RLS |
| μΊμ‹/μ„Έμ… | Redis 7+ | μ„Έμ…, Rate Limiting |
| ν”„λ΅ νΈμ—”λ“ | Next.js 15 + shadcn/ui | SSR, μ¤νΈλ¦¬λ° |

### μ¤‘μ”: λ°±μ—”λ“μ— μ €μ¥λμ§€ μ•λ” κ²ƒ
- β API ν‚¤ (μ–΄λ–¤ ν•νƒλ΅λ“ )
- β λ³µνΈν™” κ°€λ¥ν• μκ²© μ¦λ…
- β ν”„λ΅μ‹ μ”μ²­μ API ν‚¤ λ΅κ·Έ

---

## Provider Adapter μΈν„°νμ΄μ¤

### ν΄λΌμ΄μ–ΈνΈ μ–΄λ‘ν„° (TypeScript) - μ§μ ‘ νΈμ¶μ©

```typescript
// λΈλΌμ°μ €μ—μ„ μ§μ ‘ LLM API νΈμ¶ (CORS μ§€μ› μ κ³µμμ©)
interface DirectProviderAdapter {
  readonly providerId: string;
  readonly supportsCORS: true;

  // μ§μ ‘ νΈμ¶ κ°€λ¥ μ—¬λ¶€
  canCallDirectly(): boolean;

  // API νΈμ¶ (λΈλΌμ°μ €μ—μ„ μ§μ ‘)
  chat(params: ChatRequest, apiKey: string): Promise<ChatResponse>;

  // μ¤νΈλ¦¬λ° νΈμ¶
  chatStream(params: ChatRequest, apiKey: string): AsyncIterable<ChatChunk>;

  // ν† ν° μΉ΄μ΄ν… (λΉ„μ© μ¶”μ •μ©)
  countTokens(messages: Message[]): number;
}

// μ‚¬μ© μμ‹
const openaiAdapter: DirectProviderAdapter = {
  providerId: 'openai',
  supportsCORS: true,

  async chat(params, apiKey) {
    const client = new OpenAI({
      apiKey,
      dangerouslyAllowBrowser: true  // λΈλΌμ°μ € μ§μ ‘ νΈμ¶ ν—μ©
    });
    return client.chat.completions.create(params);
  }
};
```

### ν”„λ΅μ‹ μ–΄λ‘ν„° (Python) - Pass-through ν”„λ΅μ‹μ©

```python
class ProxyProviderAdapter(ABC):
    """CORS λ―Έμ§€μ› μ κ³µμλ¥Ό μ„ν• μ„λ²„ μΈ΅ ν”„λ΅μ‹ μ–΄λ‘ν„°

    μ£Όμ: μ΄ μ–΄λ‘ν„°λ” API ν‚¤λ¥Ό μ €μ¥ν•μ§€ μ•μµλ‹λ‹¤.
    ν‚¤λ” μ”μ²­ ν—¤λ”μ—μ„ λ°›μ•„ μ¦‰μ‹ μ „λ‹¬ν•κ³  νκΈ°ν•©λ‹λ‹¤.
    """
    provider_id: str
    supports_cors: bool = False

    @abstractmethod
    def build_headers(self, api_key: str) -> dict:
        """API ν‚¤λ΅ μΈμ¦ ν—¤λ” κµ¬μ„± (ν‚¤λ” λ©”λ¨λ¦¬μ—μ„ μ¦‰μ‹ νκΈ°)"""

    @abstractmethod
    def transform_request(self, openai_request: dict) -> tuple[str, dict]:
        """OpenAI ν•μ‹ β†’ (endpoint_url, native_payload)"""

    @abstractmethod
    def transform_response(self, native_response: dict) -> dict:
        """λ„¤μ΄ν‹°λΈ μ‘λ‹µ β†’ OpenAI ν•μ‹"""

    @abstractmethod
    async def stream_transform(self, native_stream) -> AsyncIterator[str]:
        """λ„¤μ΄ν‹°λΈ SSE β†’ OpenAI ν•μ‹ SSE μ²­ν¬"""
```

### ν΄λΌμ΄μ–ΈνΈ Provider Router

```typescript
// μ κ³µμμ— λ”°λΌ μ§μ ‘ νΈμ¶ vs ν”„λ΅μ‹ κ²°μ •
class ProviderRouter {
  private directAdapters: Map<string, DirectProviderAdapter>;
  private proxyEndpoint: string;

  async chat(provider: string, model: string, params: ChatRequest, apiKey: string) {
    const adapter = this.directAdapters.get(provider);

    if (adapter?.supportsCORS) {
      // CORS μ§€μ›: λΈλΌμ°μ €μ—μ„ μ§μ ‘ νΈμ¶
      return adapter.chat(params, apiKey);
    } else {
      // CORS λ―Έμ§€μ›: ν”„λ΅μ‹ κ²½μ  (API ν‚¤λ¥Ό ν—¤λ”λ΅ μ „λ‹¬)
      return this.callViaProxy(provider, model, params, apiKey);
    }
  }

  private async callViaProxy(provider, model, params, apiKey) {
    return fetch(`${this.proxyEndpoint}/v1/chat/completions`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-Provider': provider,
        'X-API-Key': apiKey,  // ν”„λ΅μ‹μ— ν‚¤ μ „λ‹¬ (μ„λ²„λ” μ €μ¥ μ• ν•¨)
      },
      body: JSON.stringify({ model, ...params }),
    });
  }
}
```

---

## κµ¬ν„ λ΅λ“λ§µ

### Phase 1 - MVP (6μ£Ό)

#### ν΄λΌμ΄μ–ΈνΈ (Next.js)
- [ ] Next.js 15 ν”„λ΅μ νΈ μ„¤μ • (App Router, shadcn/ui)
- [ ] API ν‚¤ κ΄€λ¦¬μ (localStorage/sessionStorage)
- [ ] μ§μ ‘ νΈμ¶ μ–΄λ‘ν„°: OpenAI, Gemini (AI Studio), Ollama
- [ ] Provider Router (μ§μ ‘ vs ν”„λ΅μ‹ κ²°μ •)
- [ ] κΈ°λ³Έ μ±„ν… ν”λ μ΄κ·ΈλΌμ΄λ“ UI (μ¤νΈλ¦¬λ°)
- [ ] μ„¤μ • νμ΄μ§€ (API ν‚¤ μ…λ ¥/μ‚­μ )

#### Pass-through ν”„λ΅μ‹
- [ ] FastAPI κΈ°λ³Έ κµ¬μ΅°
- [ ] ν”„λ΅μ‹ μ–΄λ‘ν„°: Anthropic
- [ ] `/v1/chat/completions` μ—”λ“ν¬μΈνΈ (μ¤νΈλ¦¬λ°)
- [ ] API ν‚¤ λ΅κΉ… λ°©μ§€ λ―Έλ“¤μ›¨μ–΄

#### κ³µν†µ
- [ ] ν† ν° μΉ΄μ΄ν„° (tiktoken-js)
- [ ] λ¨λΈ κ°€κ²© λ°μ΄ν„°
- [ ] Docker Compose λ°°ν¬

### Phase 2 - ν•µμ‹¬ ν”λ«νΌ (7-12μ£Ό)

#### ν΄λΌμ΄μ–ΈνΈ ν™•μ¥
- [ ] Side-by-Side λ¨λΈ λΉ„κµ λ¨λ“
- [ ] ν”„λ΅¬ν”„νΈ ν…ν”λ¦Ώ κ΄€λ¦¬
- [ ] λ€ν™” κΈ°λ΅ μ €μ¥ (IndexedDB)
- [ ] λΉ„μ©/ν† ν° μ¶”μ  λ€μ‹λ³΄λ“

#### ν”„λ΅μ‹ ν™•μ¥
- [ ] μ¶”κ°€ μ–΄λ‘ν„°: AWS Bedrock, Azure OpenAI, Vertex AI, Mistral, Cohere
- [ ] μ¬μ‹λ„/ν΄λ°± λ΅μ§
- [ ] Rate Limiting (μ‚¬μ©μλ³„)

#### λ°±μ—”λ“ (λ©”νƒ€λ°μ΄ν„°)
- [ ] μ‚¬μ©μ κ³„μ • μ‹μ¤ν…
- [ ] ν”„λ΅¬ν”„νΈ ν…ν”λ¦Ώ λ™κΈ°ν™”
- [ ] μ‚¬μ©λ‰ ν†µκ³„ μ €μ¥ (API ν‚¤ μ μ™Έ)

### Phase 3 - κ³ κΈ‰ κΈ°λ¥ (13-16μ£Ό)
- [ ] Web Crypto API κΈ°λ° ν΄λΌμ΄μ–ΈνΈ ν‚¤ μ•”νΈν™” (ν¨μ¤ν”„λ μ΄μ¦)
- [ ] vLLM, TGI μ–΄λ‘ν„°
- [ ] ν€/μ΅°μ§ κ³µμ  κΈ°λ¥
- [ ] μ‘λ‹µ μΊμ‹± (ν΄λΌμ΄μ–ΈνΈ μΈ΅, IndexedDB)
- [ ] PWA μ¤ν”„λΌμΈ μ§€μ›
- [ ] μ„λ² λ”©/μ΄λ―Έμ§€ μƒμ„± μ—”λ“ν¬μΈνΈ

---

## λ””λ ‰ν† λ¦¬ κµ¬μ΅° (μμƒ)

```
openMaaS/
β”β”€β”€ apps/
β”‚   β”β”€β”€ web/                      # Next.js ν”„λ΅ νΈμ—”λ“ + ν΄λΌμ΄μ–ΈνΈ LLM μ„λΉ„μ¤
β”‚   β”‚   β”β”€β”€ app/                  # App Router νμ΄μ§€
β”‚   β”‚   β”‚   β”β”€β”€ (auth)/           # μΈμ¦ κ΄€λ ¨ νμ΄μ§€
β”‚   β”‚   β”‚   β”β”€β”€ chat/             # μ±„ν… ν”λ μ΄κ·ΈλΌμ΄λ“
β”‚   β”‚   β”‚   β”β”€β”€ compare/          # Side-by-Side λΉ„κµ
β”‚   β”‚   β”‚   β”β”€β”€ settings/         # API ν‚¤ μ„¤μ •
β”‚   β”‚   β”‚   β””β”€β”€ api/              # Next.js API Routes (ν”„λ΅μ‹ κ²½μ μ )
β”‚   β”‚   β”β”€β”€ components/
β”‚   β”‚   β”‚   β”β”€β”€ chat/             # μ±„ν… UI μ»΄ν¬λ„νΈ
β”‚   β”‚   β”‚   β”β”€β”€ settings/         # μ„¤μ • UI
β”‚   β”‚   β”‚   β””β”€β”€ ui/               # shadcn/ui μ»΄ν¬λ„νΈ
β”‚   β”‚   β””β”€β”€ lib/
β”‚   β”‚       β”β”€β”€ llm/              # π”‘ ν΄λΌμ΄μ–ΈνΈ LLM μ„λΉ„μ¤ (ν•µμ‹¬)
β”‚   β”‚       β”‚   β”β”€β”€ provider-router.ts    # μ§μ ‘/ν”„λ΅μ‹ λΌμ°ν…
β”‚   β”‚       β”‚   β”β”€β”€ key-manager.ts        # API ν‚¤ μ €μ¥μ† (localStorage)
β”‚   β”‚       β”‚   β”β”€β”€ adapters/             # ν΄λΌμ΄μ–ΈνΈ μ–΄λ‘ν„°
β”‚   β”‚       β”‚   β”‚   β”β”€β”€ base.ts
β”‚   β”‚       β”‚   β”‚   β”β”€β”€ openai.ts         # μ§μ ‘ νΈμ¶
β”‚   β”‚       β”‚   β”‚   β”β”€β”€ gemini.ts         # μ§μ ‘ νΈμ¶
β”‚   β”‚       β”‚   β”‚   β”β”€β”€ ollama.ts         # μ§μ ‘ νΈμ¶
β”‚   β”‚       β”‚   β”‚   β””β”€β”€ proxy.ts          # ν”„λ΅μ‹ κ²½μ  (λ²”μ©)
β”‚   β”‚       β”‚   β””β”€β”€ token-counter.ts      # λΉ„μ© μ¶”μ •
β”‚   β”‚       β”β”€β”€ hooks/            # React ν›…
β”‚   β”‚       β””β”€β”€ store/            # Zustand μ¤ν† μ–΄
β”‚   β”‚
β”‚   β””β”€β”€ proxy/                    # Pass-through ν”„λ΅μ‹ μ„λ²„
β”‚       β”β”€β”€ main.py               # FastAPI μ—”νΈλ¦¬ν¬μΈνΈ
β”‚       β”β”€β”€ routers/
β”‚       β”‚   β””β”€β”€ completions.py    # /v1/chat/completions
β”‚       β”β”€β”€ adapters/             # ν”„λ΅μ‹μ© μ–΄λ‘ν„° (Python)
β”‚       β”‚   β”β”€β”€ base.py
β”‚       β”‚   β”β”€β”€ anthropic.py
β”‚       β”‚   β”β”€β”€ bedrock.py
β”‚       β”‚   β”β”€β”€ azure.py
β”‚       β”‚   β”β”€β”€ vertex.py
β”‚       β”‚   β””β”€β”€ mistral.py
β”‚       β””β”€β”€ middleware/
β”‚           β””β”€β”€ no_log.py         # API ν‚¤ λ΅κΉ… λ°©μ§€
β”‚
β”β”€β”€ packages/
β”‚   β”β”€β”€ shared-types/             # TypeScript/Python κ³µμ  νƒ€μ…
β”‚   β”‚   β”β”€β”€ openai-compat.ts      # OpenAI νΈν™ μ¤ν‚¤λ§
β”‚   β”‚   β””β”€β”€ providers.ts          # μ κ³µμ μ •μ
β”‚   β””β”€β”€ pricing/                  # λ¨λΈ κ°€κ²© λ°μ΄ν„°
β”‚       β””β”€β”€ models.json
β”‚
β”β”€β”€ infra/
β”‚   β”β”€β”€ docker/
β”‚   β”‚   β”β”€β”€ Dockerfile.web
β”‚   β”‚   β””β”€β”€ Dockerfile.proxy
β”‚   β””β”€β”€ docker-compose.yml
β”‚
β”β”€β”€ tests/
β”β”€β”€ docs/
β”β”€β”€ PROJECT.md                    # μ΄ λ¬Έμ„
β””β”€β”€ README.md
```

---

## μ°Έκ³  ν”„λ΅μ νΈ

- [LiteLLM](https://github.com/BerriAI/litellm) - 100+ μ κ³µμ μ§€μ› ν”„λ΅μ‹
- [Portkey Gateway](https://github.com/Portkey-AI/gateway) - 250+ λ¨λΈ μ§€μ›
- [LLM Gateway](https://github.com/theopenco/llmgateway) - OpenAI νΈν™ κ²μ΄νΈμ›¨μ΄
- [TypingMind](https://www.typingmind.com/) - BYOK κΈ°λ° μ±„ν… UI

---

## ν•µμ‹¬ μ„¤κ³„ μ›μΉ™

1. **Zero-Knowledge λ³΄μ•**: μ„λ²„λ” API ν‚¤λ¥Ό μ λ€ μ €μ¥ν•μ§€ μ•μ. ν‚¤λ” ν΄λΌμ΄μ–ΈνΈμ—μ„λ§ κ΄€λ¦¬
2. **OpenAI API νΈν™μ„±**: λ¨λ“  μ κ³µμλ¥Ό OpenAI Chat Completion ν•μ‹μΌλ΅ μ •κ·ν™”
3. **ν΄λΌμ΄μ–ΈνΈ μ°μ„ **: κ°€λ¥ν• ν• λΈλΌμ°μ €μ—μ„ μ§μ ‘ LLM API νΈμ¶ (CORS μ§€μ› μ‹)
4. **μµμ† ν”„λ΅μ‹**: CORS λ―Έμ§€μ› μ κ³µμλ§ Pass-through ν”„λ΅μ‹ κ²½μ , ν‚¤ λ΅κΉ… κΈμ§€
5. **ν”λ¬κ·ΈμΈ ν™•μ¥μ„±**: μƒ μ κ³µμ μ¶”κ°€λ” ν΄λΌμ΄μ–ΈνΈ/ν”„λ΅μ‹ μ–΄λ‘ν„° μ¶”κ°€λ΅ μ™„λ£
6. **κ΄€μΈ΅μ„±**: λΉ„μ© μ¶”μ , μ§€μ—° μ‹κ°„ μΈ΅μ • (API ν‚¤ μ—†μ΄ λ©”νƒ€λ°μ΄ν„°λ§)
